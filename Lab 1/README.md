## Задание
1. Выполните трансляцию программы с листингом. Для этого
- для 32-х разрядной программы следует ввести команду:

    ```shell
    nasm -f elf lab1.asm -l lab1.lst
    ```

- для 64-х разрядной:

    ```shell
    nasm -f elf64 lab1.asm -l lab1.lst
    ```

    В результате вы должны получить объектный модуль *lab1.o* и файл листинга *lab1.lst*. Убедитесь, что операция прошла без ошибок.

2. Для компоновки 32-х или 64-х разрядной программы, которая будет выполняться на компьютере той же размерности, следует ввести:

    ```shell
    ld -o lab1 lab1.o
    ```

    Для компоновки 32-разрядной программы, которая будет выполняться на 64-х разрядном компьютере, необходимо запросить режим эмуляции:

    ```shell
    ld -m elf_i386 -o lab1 lab1.o
    ```

    После команды в окне терминала, если они есть, выводятся сообщения об ошибках. Если все прошло без ошибок, то в том же каталоге появится файл исполняемой программы.

3. Запустите программу на выполнение.  
Запущенная программа должна вывести текст:

    > Press Enter to Exit

    и ожидать нажатия клавиши **Enter**. После нажатия клавиши **Enter** выполнение программы завершится.  
    Следует иметь в виду, что буфер ввода предусматривает ввод до 10 символов в то время как при нажатии клавиши **Enter** в буфер записывается единственный символ с кодом 10<sub>10</sub>=0A<sub>16</sub>. Символ с кодом 1310, заносимый в буфер ввода в операционных системах семейства Windows, в операционных системах типа Linux при нажатии на клавишу **Enter** в буфер не заносится.<sup>[[ссылка]][1]</sup>

4. Запустите отладчик *edb*. Для этого следует в окне терминала ввести команду:

    ```shell
    edb
    ```

    Средствами графического интерфейса отладчика откройте в нем исполняемую программу *lab1* и проанализируйте, что вы видите в его окне. Найдите машинное представление программы, ее дисассемблированный код, содержимое регистров и т.д.  
    Выполните программу по шагам, контролируя содержимое регистров и оперативной памяти.

5. Для изучения возможностей отладчика добавьте в заготовку
несколько команд для вычисления результата следующего выражения:

    ```
    X=A+5-B
    ```

    Данные для программы задайте константами, поместив их описание в раздел инициированных данных *.data*:

    ```Assembler
    A   dd  -30
    B   dd  21
    ```

    Для результата вычислений – переменной X – необходимо зарезервировать  место, поместив описание соответствующей неинициализированной переменной в раздел неинициализированных данных *.bss*:

    ```Assembler
    X   resd    1
    ```

    Фрагмент кода программы, выполняющей сложение и вычитание, поместите в сегмент кодов после метки *start*:

    ```Assembler
    start:  mov eax, [A] ; загрузить число A в регистр EAX
            add eax, 5   ; сложить EAX и 5, результат в EAX
            sub eax, [B] ; вычесть число B, результат в EAX
            mov [X], eax ; сохранить результат в памяти
    ...
    ```

    Сохраните программу с тем же именем, затем выполните ее трансляцию, компоновку и загрузку в отладчик.  
    Зафиксируйте изменение программы в отчете.

6. Найдите в отладчике внутреннее представление исходных данных, отразите его в отчете и поясните.  
Проследите в отладчике выполнение программы и зафиксируйте в отчете результаты выполнения каждой добавленной команды (изменение регистров, флагов и полей данных).

7. Введите следующие строки в разделы описания инициализированных и неинициализированных данных и определите с помощью отладчика внутренние представление этих данных в памяти. Результаты проанализируйте и занесите в отчет.

    ```Assembler
    val1    db      255
    chart   dw      256
    lue3    dw      -128
    v5      db      10h
            db      100101B
    beta    db      23,23h,0ch
    sdk     db      "Hello",10
    min     dw      -32767
    ar      dd      12345678h
    valar   times   5   db
    alu     resw    10
    f1      resb    5
    ```

8. Определите в памяти следующие данные:
- целое число 25 размером 2 байта со знаком;
- двойное слово, содержащее число -35;
- символьную строку, содержащую ваше имя (русскими буквами и
латинскими буквами).  

    Зафиксируйте в отчете описание и внутреннее представление этих данных и дайте пояснение.

9. Определите несколькими способами в программе числа, которые
во внутреннем представлении (в отладчике) будут выглядеть как **25 00** и **00 25**. Проверьте правильность ваших предположений, введя соответствующие строки в программу. Зафиксируйте результаты в отчете.

10. Добавьте в программу переменную *F1=65535* размером слово и переменную *F2=65535* размером двойное слово. Вставьте в программу команды сложения этих чисел с 1:

    ```Assembler
    add [F1],1
    add [F2],1
    ```

    Проанализируйте и прокомментируйте в отчете полученный результат (обратите внимание на флаги).

[1]: <https://en.wikipedia.org/wiki/Newline> "Символ новой строки"